<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coding Agent Audio Notifications</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1>Coding agent audio notifications</h1>
            <button class="btn-save" id="saveBtn" disabled style="display: none;" title="Save your settings. Changes take effect immediately for new Claude sessions.">Save</button>
        </header>

        <div class="layout">
            <!-- Left Navigation -->
            <nav class="sidebar">
                <div class="nav-item active" data-view="overview">Overview</div>
                <div class="nav-item" data-view="claude-code">Claude Code</div>
                <div class="nav-item" data-view="faq">FAQ</div>
                <div class="nav-item" data-view="support">Support</div>
            </nav>

            <!-- Main Content Area -->
            <main class="main">
                <!-- Overview View -->
                <div class="view active" data-view="overview">
                    <div class="getting-started">
                        <h2>What are the benefits of using this tool?</h2>
                        <p class="getting-started-text">
                            Use this tool to receive audio alerts when designated coding agent events occur. It is intended to:
                        </p>
                        <ul class="getting-started-text">
                            <li>Help ensure that you are alerted as early as possible whenever a coding agent might benefit from your input.</li>
                            <li>Free you from having to actively monitor whether or not a coding agent requires your input.</li>
                        </ul>
                    </div>
                </div>

                <!-- Claude Code View -->
                <div class="view" data-view="claude-code">
                    <div class="getting-started">
                        <h2>Notable technical details</h2>
                        <p class="getting-started-text">
                            This tool relies on <a href="https://docs.claude.com/en/docs/claude-code/hooks-guide#hook-events-overview" target="_blank" class="inline-link">Claude Code hooks</a> to trigger audio alerts. At the time of this writing the following hooks are supported:
                        </p>
                        <ul class="getting-started-text">
                            <li><strong>Notification</strong> - runs when Claude Code sends notifications</li>
                            <li><strong>Stop</strong> - runs when Claude Code finishes responding</li>
                            <li><strong>PostToolUse</strong> - runs after tool calls complete</li>
                            <li><strong>SubagentStop</strong> - runs when subagent tasks complete</li>
                        </ul>
                        <h2>Customization options</h2>
                        <p class="getting-started-text">
                            Using the controls below:
                        </p>
                        <ul class="getting-started-text">
                            <li>You can turn audio alerts on and off on per hook type basis.</li>
                            <li>You can arrange for different audio to play on a per hook type basis.</li>
                            <li>You can upload and use custom audio for your audio alerts.</li>
                        </ul>
                    </div>

                    <!-- Global Settings (shown when globalMode = true) -->
            <div id="globalSettings" class="settings-section">
                <h2 class="hooks-header">Hooks that are eligible for audio notifications</h2>
                <p class="hint" style="margin-bottom: 16px;">According to the Claude Code developer documentation, "Claude Code hooks are user-defined shell commands that execute at various points in Claude Code's lifecycle" (<a href="https://docs.claude.com/en/docs/claude-code/hooks-guide" target="_blank" class="inline-link hooks-guide-link">source</a>)</p>

                <div class="card">
                    <!-- Column headers -->
                    <div class="table-header">
                        <div class="table-header-cell">Event</div>
                        <div class="table-header-controls">
                            <div class="table-header-cell sound-header">Sound</div>
                            <div class="table-header-cell play-header"></div>
                            <div class="table-header-cell enabled-header">Enabled</div>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <label for="notificationSound">Notification</label>
                            <p class="hint">Runs when Claude Code sends notifications (<a href="https://docs.claude.com/en/docs/claude-code/hooks-guide#hook-events-overview" target="_blank" class="inline-link">documentation</a>)</p>
                        </div>
                        <div class="sound-control">
                            <select id="notificationSound" class="sound-select"></select>
                            <button class="btn-play" data-sound="notification" title="Preview this sound">▶</button>
                            <input type="checkbox" id="notificationEnabled" class="toggle" checked>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <label for="stopSound">Stop</label>
                            <p class="hint">Runs when Claude Code finishes responding (<a href="https://docs.claude.com/en/docs/claude-code/hooks-guide#hook-events-overview" target="_blank" class="inline-link">documentation</a>)</p>
                        </div>
                        <div class="sound-control">
                            <select id="stopSound" class="sound-select"></select>
                            <button class="btn-play" data-sound="stop" title="Preview this sound">▶</button>
                            <input type="checkbox" id="stopEnabled" class="toggle" checked>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <label for="postToolUseSound">PostToolUse</label>
                            <p class="hint">Runs after tool calls complete (<a href="https://docs.claude.com/en/docs/claude-code/hooks-guide#hook-events-overview" target="_blank" class="inline-link">documentation</a>)</p>
                        </div>
                        <div class="sound-control">
                            <select id="postToolUseSound" class="sound-select"></select>
                            <button class="btn-play" data-sound="postToolUse" title="Preview this sound">▶</button>
                            <input type="checkbox" id="postToolUseEnabled" class="toggle" checked>
                        </div>
                    </div>

                    <div class="setting-row">
                        <div class="setting-label">
                            <label for="subagentStopSound">SubagentStop</label>
                            <p class="hint">Runs when subagent tasks complete (<a href="https://docs.claude.com/en/docs/claude-code/hooks-guide#hook-events-overview" target="_blank" class="inline-link">documentation</a>)</p>
                        </div>
                        <div class="sound-control">
                            <select id="subagentStopSound" class="sound-select"></select>
                            <button class="btn-play" data-sound="subagentStop" title="Preview this sound">▶</button>
                            <input type="checkbox" id="subagentStopEnabled" class="toggle" checked>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Per-Project Settings (shown when globalMode = false) -->
            <div id="projectSettings" class="settings-section" style="display: none;">
                <div class="info-banner">
                    Notifications will only play for projects you enable below.
                </div>

                <div id="projectList" class="project-list">
                    <!-- Projects will be inserted here dynamically -->
                </div>

                <button class="btn-add" id="addProjectBtn">+ Enable coding agent audio notifications for a new project</button>
            </div>

            <!-- Add Custom Audio -->
            <div class="card">
                <h2>Upload custom audio</h2>
                <p class="hint">Manage custom sounds. System sounds are available in the dropdowns above. Supported formats: .aiff, .wav, .mp3</p>

                <div id="customSounds" class="sound-library">
                    <!-- Custom sound items will be inserted here -->
                </div>
                <button class="btn-add" id="uploadSoundBtn">+ Upload audio</button>
            </div>

            <!-- Global Toggle -->
            <div class="card">
                <div class="setting-row">
                    <div class="setting-label">
                        <label for="globalMode">Apply to all projects</label>
                        <p class="hint">When enabled, same sounds play everywhere. When disabled, configure sounds per project.</p>
                    </div>
                    <input type="checkbox" id="globalMode" class="toggle">
                </div>
            </div>
                </div>

                <!-- FAQ View -->
                <div class="view" data-view="faq">
                    <div class="getting-started">
                        <h2>Frequently Asked Questions</h2>

                        <div class="faq-item">
                            <h3 class="faq-question">What coding agents are supported by this tool?</h3>
                            <p class="faq-answer">At present exclusively Claude Code. I would be happy to add support for <a href="https://github.com/features/copilot" target="_blank" class="inline-link">Codex</a>, <a href="https://www.jules.ai" target="_blank" class="inline-link">Jules</a>, <a href="https://www.droids.dev" target="_blank" class="inline-link">Droids</a>, etc if there winds up being demand for that.</p>
                        </div>

                        <div class="faq-item">
                            <h3 class="faq-question">Where are the rest of the FAQs?</h3>
                            <p class="faq-answer">I will further populate this section if anyone winds up actually using the tool!</p>
                        </div>
                    </div>
                </div>

                <!-- Support View -->
                <div class="view" data-view="support">
                    <div class="getting-started">
                        <h2>Support</h2>
                        <p class="getting-started-text">
                            If you have any questions or encounter any issues, <a href="mailto:cwveysey@gmail.com" class="inline-link">please drop me a line via email</a>. Any and all feedback is of course so appreciated.
                        </p>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script type="module" src="/main.js"></script>
</body>
</html>
