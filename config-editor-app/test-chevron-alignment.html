<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Chevron Alignment Test</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body { padding: 50px; font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif; }
        .test-container { max-width: 800px; margin: 0 auto; }
        .measurement { position: absolute; left: 0; right: 0; height: 1px; background: red; pointer-events: none; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>Chevron Alignment Test</h1>
        
        <h2>FAQ Collapsible (19px font-size)</h2>
        <details class="collapsible-section" open>
            <summary class="collapsible-header">
                <h2 id="faq-heading">What coding agents are supported by this tool?</h2>
            </summary>
            <div class="collapsible-content">
                <p>Content here</p>
            </div>
        </details>

        <h2 style="margin-top: 40px;">Card Collapsible (16px font-size)</h2>
        <details class="card" open>
            <summary>
                <h2 id="card-heading">How does this work?</h2>
            </summary>
            <div style="padding: 16px;">
                <p>Content here</p>
            </div>
        </details>
    </div>

    <script>
        // Measure alignment
        function measureAlignment(headingId, beforeSelector) {
            const heading = document.getElementById(headingId);
            const before = window.getComputedStyle(heading.parentElement, '::before');
            
            const headingRect = heading.getBoundingClientRect();
            const headingMiddle = headingRect.top + (headingRect.height / 2);
            
            // Get the ::before element's computed position
            // Since we can't directly get ::before's bounding box, we'll inspect its container
            const container = heading.parentElement;
            const containerRect = container.getBoundingClientRect();
            
            console.log(`${headingId}:`);
            console.log(`  Heading height: ${headingRect.height}px`);
            console.log(`  Heading middle Y: ${headingMiddle}px`);
            console.log(`  Container top: ${containerRect.top}px`);
            console.log(`  ::before height: ${before.height}`);
            console.log(`  ::before background-position: ${before.backgroundPosition}`);
            
            // Draw measurement line at text middle
            const line = document.createElement('div');
            line.className = 'measurement';
            line.style.top = `${headingMiddle}px`;
            document.body.appendChild(line);
            
            return {
                headingHeight: headingRect.height,
                headingMiddle: headingMiddle,
                beforeHeight: before.height
            };
        }

        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log('=== ALIGNMENT MEASUREMENTS ===');
                const faq = measureAlignment('faq-heading');
                const card = measureAlignment('card-heading');
                
                // Check if chevron container height matches text height
                console.log('\n=== ANALYSIS ===');
                console.log(`FAQ: Before height (${faq.beforeHeight}) should equal heading height (${faq.headingHeight}px)`);
                console.log(`Card: Before height (${card.beforeHeight}) should equal heading height (${card.headingHeight}px)`);
            }, 100);
        });
    </script>
</body>
</html>
